$.Class({namespace:"ice",events:{click:{event:"click",strListener:"a[data-ice], div[data-ice], button[data-ice]"},change:{event:"change",strListener:"input[data-ice], select[data-ice], textarea[data-ice]"},submit:{event:"submit",strListener:"form[data-ice]"}},init:function(){this.addHelpers(),this.registerEvents(this),this.startListeners(this)},registerEvents:function(e){$(":hasAttr(^data-ice.*$)").each(function(){$.each($(this).data(),function(t){if(0===t.indexOf("ice"))switch(t){case"ice":case"iceParams":case"iceCallback":break;default:"undefined"==typeof e.events[t]&&(e.events[t]={event:t.replace("ice","").unCamelize("."),strListener:"[data-"+t.unCamelize("-")+"]"})}})})},startListeners:function(e){$.each(e.events["default"],function(e,t){$("body").on(t.event,t.strListener,function(e){var t=$(this);t.prop("disabled")||t.attr("disabled")||ice.call(t,e)})})},call:function(e,t){var n=this.callable($(e),t.type),a=this.getArguments($(e)),i=context=window;$.each(n,function(e,t){"undefined"!=typeof i.getType&&"Class"===i.getType()&&(context=i),"undefined"!=typeof i[t]&&(i=i[t])}),i!==window?$.proxy(i,context,a,$(e),t)():null},callback:function(e,t){var n=context=window;$(e).data("iceCallback")&&($.each($(e).data("iceCallback").split("."),function(e,t){"undefined"!=typeof n.getType&&"Class"===n.getType()&&(context=n),"undefined"!=typeof n[t]&&(n=n[t])}),$.proxy(n,context,t,$(e))())},callable:function(e,t){return e.data("ice"+t.camelize())?e.data("ice"+t.camelize()).split("."):e.data("ice")?e.data("ice").split("."):null},getArguments:function(e){return e.data("iceParams")||null},addHelpers:function(){$.expr[":"].hasAttr=$.expr.createPseudo(function(e){var t=new RegExp(e);return function(e){for(var n=e.attributes,a=0;a<n.length;a++)if(t.test(n[a].nodeName))return!0;return!1}}),String.prototype.unCamelize=function(e){return e=e||".",this.replace(/[A-Z]/g,function(t,n){return(n>0?e:"")+t.toLowerCase()})},String.prototype.camelize=function(){return this.replace(/(?:^|[-_\.])(\w)/g,function(e,t){return t?t.toUpperCase():""})}}});