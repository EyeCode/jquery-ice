$.Class({namespace:"ice",consts:{ICE:"[data-ice]",SPLITTER:"|"},events:["click","change","focus","blur","submit"],init:function(){this.registerIceEvents(this);this.startListeners(this.events)},startListeners:function(e){for(var t in e){this.addListener(e[t])}},addListener:function(e){$("body").on(e,this.buildStrListener(e),function(e){var t=$(this);if(!t.prop("disabled")){ice.call(t,e)}})},call:function(e,t){var n=this.callable($(e),t.type),r=this.getArguments($(e)),i=context=window;$.each(n,function(e,t){if(typeof i.getType!=="undefined"&&i.getType()==="Class"){context=i}if(typeof i[t]!=="undefined"){i=i[t]}});i!==window?$.proxy(i,context,r,$(e),t)():null},callback:function(e,t){var n=context=window;if($(e).data("iceCallback")){$.each($(e).data("iceCallback").split("."),function(e,t){if(typeof n.getType!=="undefined"&&n.getType()==="Class"){context=n}if(typeof n[t]!=="undefined"){n=n[t]}});$.proxy(n,context,t,$(e))()}},callable:function(e,t){return e.data("ice").replace(t+this.SPLITTER(),"").split(".")||null},getArguments:function(e){return e.data("iceParams")||null},registerIceEvents:function(e){$(this.ICE().replace("]","-event]")).each(function(){if($.inArray($(this).data("iceEvent"),e.events)==-1){e.events.push($(this).data("iceEvent"))}})},registerEvent:function(e){if($.inArray(e,this.events)==-1){this.events.push(e);this.addListener(e)}},buildStrListener:function(e){return this.ICE().replace("]",'^="'+e+'"]')}})